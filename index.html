<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Karaoke - Un Problema Menos</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background: radial-gradient(circle at top, #1f2937 0%, #020617 55%, #000 100%);
            color: #ffffff;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 16px;
        }

        .wrapper {
            width: 100%;
            max-width: 720px;
            background: rgba(15, 23, 42, 0.95);
            border-radius: 24px;
            padding: 24px 20px 28px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.6);
            border: 1px solid rgba(148, 163, 184, 0.4);
            backdrop-filter: blur(18px);
        }

        h1 {
            text-align: center;
            margin-bottom: 4px;
            font-size: 1.7rem;
        }

        h2 {
            text-align: center;
            margin-bottom: 18px;
            font-size: 0.9rem;
            font-weight: 400;
            color: #9ca3af;
        }

        /* Estilo del reproductor */
        audio {
            width: 100%;
            margin-bottom: 18px;
            border-radius: 999px;
            box-shadow: 0 0 18px rgba(45, 212, 191, 0.4);
        }

        .hint {
            font-size: 0.75rem;
            text-align: center;
            color: #9ca3af;
            margin-bottom: 14px;
        }

        /* Contenedor de la letra */
        #lyrics-container {
            width: 100%;
            max-height: 360px;
            overflow-y: auto; /* Permite hacer scroll */
            text-align: center;
            padding: 16px 10px;
            background: radial-gradient(circle at top, #0f172a 0%, #020617 70%);
            border-radius: 16px;
            box-shadow: inset 0 0 18px rgba(15, 23, 42, 0.9);
            scroll-behavior: smooth;
            position: relative;
        }

        /* Estilo de cada línea */
        .line {
            padding: 8px 4px;
            font-size: 17px;
            color: #9ca3af; /* Color apagado para líneas no activas */
            transition: all 0.25s ease;
            cursor: pointer;
        }

        .line:hover {
            color: #e5e7eb;
        }

        /* Estilo de la línea ACTIVA (la que se está cantando) */
        .line.active {
            color: #22c55e; /* Color brillante */
            font-size: 21px;
            font-weight: 700;
            text-shadow: 0 0 12px rgba(34, 197, 94, 0.8);
            transform: scale(1.04);
        }

        /* Scroll bonito */
        #lyrics-container::-webkit-scrollbar {
            width: 6px;
        }
        #lyrics-container::-webkit-scrollbar-track {
            background: rgba(15, 23, 42, 0.9);
        }
        #lyrics-container::-webkit-scrollbar-thumb {
            background: rgba(148, 163, 184, 0.8);
            border-radius: 999px;
        }
    </style>
</head>
<body>

    <div class="wrapper">
        <h1>Un Problema Menos</h1>
        <h2>Karaoke no oficial - El Cuarteto de Nos</h2>

        <audio id="audio" controls>
            <source src="Unproblemamenos.mp3" type="audio/mpeg">
            Tu navegador no soporta el elemento de audio.
        </audio>

        <p class="hint">
            ⚠ Si el audio no suena, revisa que el archivo se llame exactamente <strong>Unproblemamenos.mp3</strong>
            y esté en la misma carpeta que este HTML.
        </p>

        <div id="lyrics-container"></div>
    </div>

    <script>
        // ARRAY DE TIEMPOS Y LETRA
        const lyricsData = [
            { time: 13.5, text: "Sé que piensan sin hablar" },
            { time: 15.0, text: "Que estorbo más que ayudar" },
            { time: 16.5, text: "Y que soy solo un problema" },
            { time: 18.0, text: "Y que por mi forma de ser" },
            { time: 19.5, text: "Solo logro entorpecer" },
            { time: 21.0, text: "Sus anhelos y sus metas" },
            { time: 23.0, text: "Soy un conflicto, parece ser el veredicto" },
            { time: 26.0, text: "Y que a complicar las situaciones soy adicto" },
            { time: 29.0, text: "Una carga que pesa, y ese peso hay que sufrir" },
            { time: 32.0, text: "No me lo dicen, pero me lo hacen sentir" },
            { time: 35.0, text: "Soy la mosca en su sopa, soy la polilla en su ropa" },
            { time: 38.0, text: "El viento que nunca les sopla en la popa" },
            { time: 41.0, text: "Soy la cicatriz que avergüenza y hace esconder sus caras" },
            { time: 44.0, text: "Soy sus secretos publicados en primera plana" },
            { time: 47.0, text: "Y el día que tenga que irme lejos" },
            { time: 50.0, text: "Y pase a estar solamente en sueños" },
            { time: 53.0, text: "Podrá servir o no de consuelo" },
            { time: 56.0, text: "Que al menos seré un problema menos" },
            { time: 59.0, text: "Un problema menos, un problema menos" },
            { time: 62.0, text: "Soy el obstáculo a salvar" },
            { time: 64.0, text: "La excusa que suelen usar" },
            { time: 65.5, text: "Para ocultar sus decepciones" },
            { time: 68.0, text: "Soy lo que intentan esconder" },
            { time: 70.0, text: "El espejo en que no quieren ver" },
            { time: 71.5, text: "Todas sus frustraciones" },
            { time: 74.0, text: "Puedo olfatearles el miedo ante mis desacatos" },
            { time: 77.0, text: "Hace rato sé que soy la piedra en sus zapatos" },
            { time: 80.0, text: "Y mi alegato parece algo extraño" },
            { time: 83.0, text: "Nos hace daño quien nos quiere y no quien quiere hacernos daño" },
            { time: 86.0, text: "Ven mis defectos con microscopio" },
            { time: 89.0, text: "Ven el pelo en ojo ajeno y no el ladrillo en el propio" },
            { time: 92.0, text: "Y si les molesta aguantar mi presencia" },
            { time: 94.0, text: "Entonces si no brillo yo, brillará mi ausencia" },
            { time: 96.0, text: "Y el día que tenga que irme lejos" },
            { time: 99.0, text: "Y pase a estar solamente en sueños" },
            { time: 102.0, text: "Podrá servir o no de consuelo" },
            { time: 105.0, text: "Que al menos seré un problema menos" },
            { time: 108.0, text: "Un problema menos, un problema menos" },
            { time: 111.0, text: "Y el día que tenga que irme lejos" },
            { time: 114.0, text: "Y pase a estar solamente en sueños" },
            { time: 117.0, text: "Podrá servir o no de consuelo" },
            { time: 120.0, text: "Que al menos seré un problema menos" },
            { time: 123.0, text: "Un problema menos, un problema menos" },
            { time: 126.0, text: "Un problema menos, un problema menos" },
            { time: 130.0, text: "Un problema menos, un problema menos" }
        ];

        const container = document.getElementById('lyrics-container');
        const audio = document.getElementById('audio');

        // 1. Cargar la letra en el HTML
        lyricsData.forEach((line, index) => {
            const div = document.createElement('div');
            div.classList.add('line');
            div.innerText = line.text;
            div.id = `line-${index}`;
            // Permite hacer clic en la letra para saltar a esa parte del audio
            div.onclick = () => {
                audio.currentTime = line.time;
                audio.play();
            };
            container.appendChild(div);
        });

        // 2. Sincronizar en tiempo real
        audio.addEventListener('timeupdate', () => {
            const currentTime = audio.currentTime;

            let activeIndex = -1;
            for (let i = 0; i < lyricsData.length; i++) {
                if (currentTime >= lyricsData[i].time) {
                    activeIndex = i;
                } else {
                    break;
                }
            }

            document.querySelectorAll('.line').forEach((line, index) => {
                if (index === activeIndex) {
                    line.classList.add('active');
                    line.scrollIntoView({ behavior: "smooth", block: "center" });
                } else {
                    line.classList.remove('active');
                }
            });
        });
    </script>
</body>
</html>
